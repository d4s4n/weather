# Плагин команды погоды

<p align="center">
  <img src="[https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Weather_icon_-_sunny.svg/1024px-Weather_icon_-_sunny.svg.png](https://s1.qwant.com/thumbr/474x474/2/3/068a4148431a0d99b7f22ea6c787394f1b3b02d6538ecdeeb503f51123368c/OIP.PRdev0meBffEMLQGAJXAyQAAAA.jpg?u=https%3A%2F%2Fthvnext.bing.com%2Fth%2Fid%2FOIP.PRdev0meBffEMLQGAJXAyQAAAA%3Fcb%3Dthvnext%26pid%3DApi&q=0&b=1&p=0&a=0)" alt="Солнце" width="150"/>
</p>

Плагин для добавления команды /weather, позволяющей пользователям проверять погоду в любом городе с использованием [Open-Meteo API](https://open-meteo.com/). Плагин предоставляет информацию о погоде в реальном времени, включая температуру, описание погоды, скорость ветра и порывы.

## Использование

После установки пользователи могут использовать команду в поддерживаемых типах чатов:

```
/weather Москва
```

**Пример ответа**:
```
Погода в Москве: 20°C, ясно. Ветер: 3.5 км/ч, порывы до 5.2 км/ч.
```

При неверном названии города или ошибке отображаются настраиваемые сообщения об ошибках.

## Настройка

Плагин поддерживает настраиваемые сообщения через настройки в `package.json`. Доступные параметры:

| Параметр           | Описание                                         | Значение по умолчанию                                                         |
|--------------------|--------------------------------------------------|-------------------------------------------------------------------------------|
| `infoMessage`      | Основное сообщение о погоде                      | `Погода в {city}: {temp}°C, {description}. Ветер: {windSpeed} км/ч, порывы до {windGust} км/ч.` |
| `usageMessage`     | Отображается, если город не указан               | `/weather <город>`                                                            |
| `notFoundMessage`  | Отображается, если город не найден               | `Не удалось найти город: {city}. Попробуй указать точное название.`           |
| `errorMessage`     | Отображается при ошибках сети или API            | `Произошла ошибка при получении данных о погоде. Попробуйте позже.`           |

## Зависимости

- **parser-keksik**: Требуется для обработки команд и интеграции с ботом.

## Использование API

Плагин использует следующие API:
- **Geocoding API**: `https://geocoding-api.open-meteo.com/v1/search` для преобразования названий городов в координаты.
- **Weather API**: `https://api.open-meteo.com/v1/forecast` для получения данных о погоде.

Ключи API не требуются.
